(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(4),s=n.n(r),c=n(1),l=n.n(c),u=n(2),o=n(5),d=n(6),p=n(8),h=n(7),f=n(9),m=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},i.a.createElement("input",{type:"text",name:"title",onChange:e.handleTitleChange,placeholder:"T\xedtulo",value:e.title}),i.a.createElement("input",{type:"text",name:"description",onChange:e.handleDescriptionChange,placeholder:"Descripci\xf3n",value:e.description}),i.a.createElement("input",{type:"submit",value:e.submitText})),e.quantity>1&&i.a.createElement("button",{onClick:function(){return e.deleteAll()}},"Eliminar todas"))},k=(n(17),function(e){return i.a.createElement("div",{className:"task"},i.a.createElement("div",null,i.a.createElement("h4",null,e.title),i.a.createElement("p",null,e.description)),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return e.editTask(e.id,e.title,e.description)}},"Editar"),i.a.createElement("button",{onClick:function(){return e.deleteTask(e.id)}},"Eliminar")))}),T=function(e){var t;return i.a.createElement("div",null,0===e.quantity&&"No hay tareas pendientes",1===e.quantity&&"Hay una tarea pendiente",e.quantity>1&&(t=e.quantity,"Hay ".concat(t," tareas pendientes")))},v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleTitleChange=function(e){var t=e.target;n.setState({title:t.value})},n.handleDescriptionChange=function(e){var t=e.target;n.setState({description:t.value})},n.handleSubmit=function(){n.validFields()&&n.addTask(n.state.selectedId)},n.addTask=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,s,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.tasks,r=n.state.title,s=n.state.description,c={title:r,description:s},t){e.next=10;break}return e.next=7,n.postTask(c);case 7:t=e.sent,e.next=12;break;case 10:a=a.filter(function(e){return e.key!==t}),n.updateTask(t,c);case 12:a.unshift(i.a.createElement(k,{key:t,id:t,title:r,description:s,editTask:n.editTask,deleteTask:n.deleteTask})),n.setState({tasks:a,title:"",description:"",selectedId:null,edicion:!1});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.editTask=function(e,t,a){n.setState({selectedId:e,title:t,description:a,edicion:!0})},n.deleteTask=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.tasks,i=n.url+t,a=a.filter(function(e){return e.key!==t}),n.setState({tasks:a,selectedId:null,title:"",description:"",edicion:!1}),fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.deleteAll=Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.url,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:n.setState({tasks:[],title:"",description:"",selectedId:null,edicion:!1});case 3:case"end":return e.stop()}},e,this)})),n.validFields=function(){return""!==n.state.title},n.getAllTask=Object(u.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.url);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n.loadTasksFromApi(a);case 7:case"end":return e.stop()}},e,this)})),n.loadTasksFromApi=function(e){var t=e.map(function(e){return i.a.createElement(k,{key:e._id,id:e._id,title:e.title,description:e.description,editTask:n.editTask,deleteTask:n.deleteTask})});n.setState({tasks:t,title:"",description:"",selectedId:null})},n.postTask=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,i,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.url,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return i=e.sent,r=i._id,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.updateTask=function(){var e=Object(u.a)(l.a.mark(function e(t,a){var i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n.url+t,fetch(i,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.state={title:"",description:"",tasks:[],edicion:!1,selectedId:null},n.url="https://task-api-zacmaster.herokuapp.com/tasks/",n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAllTask()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"TODO-list App"),i.a.createElement(T,{quantity:this.state.tasks.length}),i.a.createElement(m,{handleTitleChange:this.handleTitleChange,handleDescriptionChange:this.handleDescriptionChange,handleSubmit:this.handleSubmit,deleteAll:this.deleteAll,quantity:this.state.tasks.length,title:this.state.title,description:this.state.description,submitText:this.state.edicion?"Guardar":"Agregar"}),i.a.createElement("div",null,this.state.tasks))}}]),t}(a.Component);s.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.6a0aa351.chunk.js.map